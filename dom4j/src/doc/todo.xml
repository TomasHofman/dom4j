<?xml version="1.0" encoding="ISO-8859-1"?>
<document url="http://www.dom4j.org/todo.xml">
  <body>
    <title>To Do List</title>
    
    <section title="To Do List">
      <ul>
        <li>Better documentation and user guides
        </li>
        <li>Do detailed performance tests against the other XML object models
        </li>
        <li>Ensure that the optional DOM implementation passes the DOM compliance tests
        </li>
        <li>Implement a ValidatingDocumentFactory and an EncodingDocumentFactory
          which can be used by developers where invalid strings may be specified
          allowing validation or encoding of names or text values to be
          done in one place for use across parsers or application code.
          This would avoid any performance hit by making this kind of validation 
          the default behaviour.
        </li>
        <li>Build an XML Schema Data Types aware DocumentFactory
        </li>
        <li>Build validators using dom4j API using schema and validation technologies such as:-
          <ul>
            <li><a href="http://www.w3.org/XML/Schema">XML Schema</a></li>
            <li><a href="http://xml.ascc.net/xml/resource/schematron/schematron.html">Schematron</a></li>
            <li><a href="http://www.thaiopensource.com/trex/">TReX</a></li>
          </ul>
        </li>
        <li>Implement XSLT engine on top of <i>dom4j</i>
        </li>
        <li>XML Query implementation on top of <i>dom4j</i>
        </li>
      </ul>
    </section>

    <section title="Change History">
        <section title="(coming soon) 0.3 release">
          <p>The <code>org.dom4j.io.OutputFormat</code> class now has a new helper
            method to make it easier to create pretty print formatting objects.
            The new method is <code>OutputFormat.createPrettyPrint()</code>.
            So to pretty print some XML (trimming all whitespace and indenting nicely)
            the following code should do the job...
          </p>
<pre>
    OutputFormat format = OutputFormat.createPrettyPrint();
    XMLWriter writer = new XMLWriter( out, format );
    writer.write( document );
    writer.close();
</pre>
          <p><code>SAXReader.read(String url)</code> can now accept either 
            a URL or a file name which makes things a little easier.
            The logic uses the existence of a ':' in the url String to determine if
            it should be treated as a URL or a File name. 
          </p>
          <p>For more explicit control over whether documents are Files or URLs
            call <code>SAXReader.read(File file)</code> or <code>SAXReader.read(URL url)</code>
          </p>
          <p>A new extension function, <i>matrix-concat()</i> was submitted by 
          James Pereira.
          By default, doing <i>concat()</i> functions in XPath the 'string-value' is taken
          for each argument.
          So for a document:-</p>
<pre>
&lt;root project="dom4j"&gt;
    &lt;contributor&gt;James Pereira&lt;/contributor&gt;
    &lt;contributor&gt;Bob McWhirter&lt;/contributor&gt;
&lt;/root;&gt;
</pre>
        <p>Then the XPath</p>

<pre>
concat( 'thanks ', /root/contributor )
</pre>

        <p>would return</p>

<pre>
"thanks James Pereira"
</pre>

      <p>as the <i>/root/contributor</i> expression matches a node set of 2 
      elements, but the "string-value" takes the first elements text.
      Whereas <i>matrix-contact</i> will do a cartesian product of all the 
      arguments and then do the concatenation of each combination of nodes. So
      </p>

<pre>
matrix-concat( 'thanks ', /root/contributor )
</pre>

      <p>will produce</p>

<pre>
"thanks James Pereira"
"thanks Bob McWhirter"
</pre>

      <p>The cartesian product is done such that multiple paths can be used.
      </p>

<pre>
matrix-concat( 'thanks ', /root/contributor, ' for working on ', '/@project' )
</pre>

      <p>will produce</p>

<pre>
"thanks James Pereira for working on dom4j"
"thanks Bob McWhirter for working on dom4j"
</pre>

      <p>Fixed bug where <code>XMLWriter.write(Object)</code> was not correctly
        writing a Document instance.
      </p>
      <p>Finally, a couple of small issues with the build process have been fixed.
      The dom4j.jar no longer contains any SAX or DOM classes (they are all in dom4j-full.jar)
      And the Antlr grammar files for the XPath parser are now corrrectly 
      included in the binary  distribution.
      </p>
        </section>
 
        <section title="0.2 release">
          <p>There following new features were added:-
          </p>
          <ul>
            <li>Clean integration with XSLT via JAXP / TRaX API.
            </li>
            <li>New SAXValidator to allow validation on prebuild Document instances
            </li>
            <li>XMLWriter and HTMLWriter rewritten so that they work at either 
                the SAX level or the dom4j level. 
                API much improved and more like Reader and Writer in the JDK.
            </li>
            <li>API modified to avoid clashes with WC3 DOM such that a dual 
                implementation of dom4j and DOM is now possible. An early alpha
                release of a DOM implementation of dom4j is available.
            </li>
            <li>New sorting method added to Node for easier selections of nodes
              which are sorted via an XPath expression. The following
              code sorts all CUSTOMER elements by their name attributes and 
              removes duplicates:-
              <pre>
Document document 
  = new SAXReader().read( new File( "customers.xml" ) );

List customers 
  = document.selectNodes( "//CUSTOMER", "@name", true );
              </pre>
            </li>
            <li>The getText() and getStringValue() methods of Element now return
              the textual values of CDATA, Entity and Text nodes. 
              The previous version only returned Text node values.
            </li>
            <li>Refactored code and removed XPathEngine, XPathHelper and 
                all the static newXXX() methods in DocumentFactory.
                Added equivalent methods to DocumentHelper and DocumentFactory.
            </li>
          </ul>
          <p>This release also includes full XPath source code.
          </p>
        </section>
        <section title="0.1 release">
          <p>Initial release which comes complete with DOM, JAXP and SAX 
            support and integrated XPath
          </p>
        </section>
    </section>

    <section title="Known problems">    
      <p>The following functions are not yet fully supported in the inbuilt
        XPath engine</p>
      <ul>
        <li>id()</li>
        <li>generate-id()</li>
        <li>format-number()</li>
      </ul>
      <p>The optional W3C DOM implementation of the dom4j API is not yet at 
      full DOM compliance</p>
    </section>

    <section title="Contributors">    
      <p>The following people have contributed to the dom4j project. 
      Many thanks to you all!</p>
      <ul>
        <li>James Strachan</li>
        <li>Bob McWhirter</li>
        <li>James Dodd</li>
        <li>James Elson</li>
        <li>Jakob Jenkov</li>
        <li>James Pereira</li>
      </ul>
    </section>

  </body>
</document>









